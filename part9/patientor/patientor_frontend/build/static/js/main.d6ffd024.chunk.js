(this.webpackJsonppatientor=this.webpackJsonppatientor||[]).push([[0],{264:function(e,a,t){e.exports=t(442)},442:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(59),o=t.n(c),i=(t(269),t(43)),u=t.n(i),s=t(70),m=t(27),d=t(60),p=t.n(d),E=t(118),b=t(17),f=t(450),h=t(460),v=t(457),O=t(451),j="http://localhost:3001/api",g=t(74),y=t(25),C={patients:{}},S=Object(r.createContext)([C,function(){return C}]),T=function(e){var a=e.reducer,t=e.children,n=Object(r.useReducer)(a,C),c=Object(m.a)(n,2),o=c[0],i=c[1];return l.a.createElement(S.Provider,{value:[o,i]},t)},w=function(){return Object(r.useContext)(S)},N=t(456),x=t(453),k=t(459),A=t(458),P=t(28),B=t(452),D=(t(455),function(e){var a=e.name,t=e.label,n=e.options;return l.a.createElement(B.a.Field,null,l.a.createElement("label",null,t),l.a.createElement(P.b,{as:"select",name:a,className:"ui dropdown"},n.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label||e.value)}))))}),F=function(e){var a=e.field,t=e.label,n=e.placeholder;return l.a.createElement(B.a.Field,null,l.a.createElement("label",null,t),l.a.createElement(P.b,Object.assign({placeholder:n},a)),l.a.createElement("div",{style:{color:"red"}},l.a.createElement(P.a,{name:a.name})))};!function(e){e.Male="male",e.Female="female",e.Other="other"}(n||(n={}));var I=[{value:n.Male,label:"Male"},{value:n.Female,label:"Female"},{value:n.Other,label:"Other"}],H=function(e){var a=e.onSubmit,t=e.onCancel;return l.a.createElement(P.d,{initialValues:{name:"",ssn:"",dateOfBirth:"",occupation:"",gender:n.Other},onSubmit:a,validate:function(e){var a={};return e.name||(a.name="Field is required"),e.ssn||(a.ssn="Field is required"),e.dateOfBirth||(a.dateOfBirth="Field is required"),e.occupation||(a.occupation="Field is required"),a}},(function(e){var a=e.isValid,n=e.dirty;return l.a.createElement(P.c,{className:"form ui"},l.a.createElement(P.b,{label:"Name",placeholder:"Name",name:"name",component:F}),l.a.createElement(P.b,{label:"Social Security Number",placeholder:"SSN",name:"ssn",component:F}),l.a.createElement(P.b,{label:"Date Of Birth",placeholder:"YYYY-MM-DD",name:"dateOfBirth",component:F}),l.a.createElement(P.b,{label:"Occupation",placeholder:"Occupation",name:"occupation",component:F}),l.a.createElement(D,{label:"Gender",name:"gender",options:I}),l.a.createElement(A.a,null,l.a.createElement(A.a.Column,{floated:"left",width:5},l.a.createElement(v.a,{type:"button",onClick:t,color:"red"},"Cancel")),l.a.createElement(A.a.Column,{floated:"right",width:5},l.a.createElement(v.a,{type:"submit",floated:"right",color:"green",disabled:!n||!a},"Add"))))}))},_=function(e){var a=e.modalOpen,t=e.onClose,n=e.onSubmit,r=e.error;return l.a.createElement(x.a,{open:a,onClose:t,centered:!1,closeIcon:!0},l.a.createElement(x.a.Header,null,"Add a new patient"),l.a.createElement(x.a.Content,null,r&&l.a.createElement(k.a,{inverted:!0,color:"red"},"Error: ".concat(r)),l.a.createElement(H,{onSubmit:n,onCancel:t})))},M=t(462),R=["The patient is in great shape","The patient has a low risk of getting sick","The patient has a high risk of getting sick","The patient has a diagnosed condition"],q=function(e){var a=e.rating,t=e.showText;return l.a.createElement("div",{className:"health-bar"},l.a.createElement(M.a,{icon:"heart",disabled:!0,rating:4-a,maxRating:4}),t?l.a.createElement("p",null,R[a]):null)},Y=function(){var e=w(),a=Object(m.a)(e,2),t=a[0].patients,n=a[1],r=l.a.useState(!1),c=Object(m.a)(r,2),o=c[0],i=c[1],d=l.a.useState(),E=Object(m.a)(d,2),b=E[0],h=E[1],O=function(){i(!1),h(void 0)},g=function(){var e=Object(s.a)(u.a.mark((function e(a){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(j,"/patients"),a);case 3:t=e.sent,r=t.data,n({type:"ADD_PATIENT",payload:r}),O(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.response.data),h(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"App"},l.a.createElement(f.a,{textAlign:"center"},l.a.createElement("h3",null,"Patient list")),l.a.createElement(N.a,{celled:!0},l.a.createElement(N.a.Header,null,l.a.createElement(N.a.Row,null,l.a.createElement(N.a.HeaderCell,null,"Name"),l.a.createElement(N.a.HeaderCell,null,"Gender"),l.a.createElement(N.a.HeaderCell,null,"Occupation"),l.a.createElement(N.a.HeaderCell,null,"Health Rating"))),l.a.createElement(N.a.Body,null,Object.values(t).map((function(e){return l.a.createElement(N.a.Row,{key:e.id},l.a.createElement(N.a.Cell,null,e.name),l.a.createElement(N.a.Cell,null,e.gender),l.a.createElement(N.a.Cell,null,e.occupation),l.a.createElement(N.a.Cell,null,l.a.createElement(q,{showText:!1,rating:1})))})))),l.a.createElement(_,{modalOpen:o,onSubmit:g,error:b,onClose:O}),l.a.createElement(v.a,{onClick:function(){return i(!0)}},"Add New Patient"))},G=t(77),J=function(){var e=Object(b.f)().id,a=w(),t=Object(m.a)(a,2),n=t[0].patients,r=(t[1],l.a.useState()),c=Object(m.a)(r,2),o=c[0],i=c[1],d=Object.values(n).find((function(a){return a.id===e})),E=l.a.useState(),h=Object(m.a)(E,2),v=(h[0],h[1]),O=l.a.useState(),g=Object(m.a)(O,2),y=(g[0],g[1]);l.a.useEffect((function(){(function(){var a=Object(s.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.get("".concat(j,"/patients/").concat(e));case 3:t=a.sent,v(t.data),y(t.data.entries),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0.response.data),i(a.t0.response.data);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}})()()}),[e]);var C=l.a.useState(!1),S=Object(m.a)(C,2);S[0],S[1];return d?l.a.createElement("div",{className:"App"},l.a.createElement(f.a,{textAlign:"center"},l.a.createElement("h3",null,d.name," "),l.a.createElement("p",null,l.a.createElement("strong",null,"SSN ")," ",d.ssn),l.a.createElement("p",null,l.a.createElement("strong",null,"Date of Birth:")," ",d.dateOfBirth),l.a.createElement("p",null,"male"===d.gender?l.a.createElement(G.a,{name:"man"}):l.a.createElement(G.a,{name:"woman"})),l.a.createElement("p",null,l.a.createElement("strong",null,"Occupation ")," ",d.occupation),l.a.createElement("p",null,l.a.createElement("strong",null,"Entries ")," ",d.entries))):l.a.createElement("div",null,o)},L=function(){var e=w(),a=Object(m.a)(e,2)[1];return l.a.useEffect((function(){p.a.get("".concat(j,"/ping")),function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(j,"/patients"));case 3:t=e.sent,n=t.data,a({type:"SET_PATIENT_LIST",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[a]),l.a.createElement("div",{className:"App"},l.a.createElement(E.a,null,l.a.createElement(f.a,null,l.a.createElement(h.a,{as:"h1"},"Patientor"),l.a.createElement(v.a,{as:E.b,to:"/",primary:!0},"Home"),l.a.createElement(O.a,{hidden:!0}),l.a.createElement(b.c,null,l.a.createElement(b.a,{path:"/patients/:id",render:function(){return l.a.createElement(J,null)}}),l.a.createElement(b.a,{path:"/",render:function(){return l.a.createElement(Y,null)}})))))};o.a.render(l.a.createElement(T,{reducer:function(e,a){switch(a.type){case"SET_PATIENT_LIST":return Object(y.a)(Object(y.a)({},e),{},{patients:Object(y.a)(Object(y.a)({},a.payload.reduce((function(e,a){return Object(y.a)(Object(y.a)({},e),{},Object(g.a)({},a.id,a))}),{})),e.patients)});case"UPDATE_PATIENT":case"ADD_PATIENT":return Object(y.a)(Object(y.a)({},e),{},{patients:Object(y.a)(Object(y.a)({},e.patients),{},Object(g.a)({},a.payload.id,a.payload))});default:return e}}},l.a.createElement(L,null)),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.d6ffd024.chunk.js.map