(this.webpackJsonppatientor=this.webpackJsonppatientor||[]).push([[0],{264:function(e,t,a){e.exports=a(442)},442:function(e,t,a){"use strict";a.r(t);var n,l,r=a(0),c=a.n(r),i=a(58),o=a.n(i),u=(a(269),a(73)),s=a.n(u),m=a(111),d=a(27),p=a(59),E=a.n(p),b=a(72),f=a(17),h=a(450),O=a(460),v=a(457),g=a(451),j="http://localhost:3001/api",y=a(74),C=a(25),T=function(e){return{type:"SET_PATIENT_LIST",payload:e}},k=function(e){return{type:"ADD_PATIENT",payload:e}},w={patients:{}},S=Object(r.createContext)([w,function(){return w}]),N=function(e){var t=e.reducer,a=e.children,n=Object(r.useReducer)(t,w),l=Object(d.a)(n,2),i=l[0],o=l[1];return c.a.createElement(S.Provider,{value:[i,o]},a)},A=function(){return Object(r.useContext)(S)},x=a(456),H=a(453),P=a(459),R=a(458),D=a(28),I=a(452),B=(a(455),function(e){var t=e.name,a=e.label,n=e.options;return c.a.createElement(I.a.Field,null,c.a.createElement("label",null,a),c.a.createElement(D.b,{as:"select",name:t,className:"ui dropdown"},n.map((function(e){return c.a.createElement("option",{key:e.value,value:e.value},e.label||e.value)}))))}),F=function(e){var t=e.field,a=e.label,n=e.placeholder;return c.a.createElement(I.a.Field,null,c.a.createElement("label",null,a),c.a.createElement(D.b,Object.assign({placeholder:n},t)),c.a.createElement("div",{style:{color:"red"}},c.a.createElement(D.a,{name:t.name})))};!function(e){e[e.Healthy=0]="Healthy",e[e.LowRisk=1]="LowRisk",e[e.HighRisk=2]="HighRisk",e[e.CriticalRisk=3]="CriticalRisk"}(n||(n={})),function(e){e.Male="male",e.Female="female",e.Other="other"}(l||(l={}));var _=[{value:l.Male,label:"Male"},{value:l.Female,label:"Female"},{value:l.Other,label:"Other"}],M=function(e){var t=e.onSubmit,a=e.onCancel;return c.a.createElement(D.d,{initialValues:{name:"",ssn:"",dateOfBirth:"",occupation:"",gender:l.Other},onSubmit:t,validate:function(e){var t={};return e.name||(t.name="Field is required"),e.ssn||(t.ssn="Field is required"),e.dateOfBirth||(t.dateOfBirth="Field is required"),e.occupation||(t.occupation="Field is required"),t}},(function(e){var t=e.isValid,n=e.dirty;return c.a.createElement(D.c,{className:"form ui"},c.a.createElement(D.b,{label:"Name",placeholder:"Name",name:"name",component:F}),c.a.createElement(D.b,{label:"Social Security Number",placeholder:"SSN",name:"ssn",component:F}),c.a.createElement(D.b,{label:"Date Of Birth",placeholder:"YYYY-MM-DD",name:"dateOfBirth",component:F}),c.a.createElement(D.b,{label:"Occupation",placeholder:"Occupation",name:"occupation",component:F}),c.a.createElement(B,{label:"Gender",name:"gender",options:_}),c.a.createElement(R.a,null,c.a.createElement(R.a.Column,{floated:"left",width:5},c.a.createElement(v.a,{type:"button",onClick:a,color:"red"},"Cancel")),c.a.createElement(R.a.Column,{floated:"right",width:5},c.a.createElement(v.a,{type:"submit",floated:"right",color:"green",disabled:!n||!t},"Add"))))}))},q=function(e){var t=e.modalOpen,a=e.onClose,n=e.onSubmit,l=e.error;return c.a.createElement(H.a,{open:t,onClose:a,centered:!1,closeIcon:!0},c.a.createElement(H.a.Header,null,"Add a new patient"),c.a.createElement(H.a.Content,null,l&&c.a.createElement(P.a,{inverted:!0,color:"red"},"Error: ".concat(l)),c.a.createElement(M,{onSubmit:n,onCancel:a})))},L=a(462),Y=["The patient is in great shape","The patient has a low risk of getting sick","The patient has a high risk of getting sick","The patient has a diagnosed condition"],G=function(e){var t=e.rating,a=e.showText;return c.a.createElement("div",{className:"health-bar"},c.a.createElement(L.a,{icon:"heart",disabled:!0,rating:4-t,maxRating:4}),a?c.a.createElement("p",null,Y[t]):null)},J=function(){var e=A(),t=Object(d.a)(e,2),a=t[0].patients,n=t[1],l=c.a.useState(!1),r=Object(d.a)(l,2),i=r[0],o=r[1],u=c.a.useState(),p=Object(d.a)(u,2),f=p[0],O=p[1],g=function(){o(!1),O(void 0)},y=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(j,"/patients"),t);case 3:a=e.sent,l=a.data,n(k(l)),g(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.response.data),O(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{textAlign:"center"},c.a.createElement("h3",null,"Patient list")),c.a.createElement(x.a,{celled:!0},c.a.createElement(x.a.Header,null,c.a.createElement(x.a.Row,null,c.a.createElement(x.a.HeaderCell,null,"Name"),c.a.createElement(x.a.HeaderCell,null,"Gender"),c.a.createElement(x.a.HeaderCell,null,"Occupation"),c.a.createElement(x.a.HeaderCell,null,"Health Rating"))),c.a.createElement(x.a.Body,null,Object.values(a).map((function(e){return c.a.createElement(x.a.Row,{key:e.id},c.a.createElement(x.a.Cell,null,c.a.createElement(b.b,{to:"/patients/".concat(e.id)}," ",e.name)),c.a.createElement(x.a.Cell,null,e.gender),c.a.createElement(x.a.Cell,null,e.occupation),c.a.createElement(x.a.Cell,null,c.a.createElement(G,{showText:!1,rating:1})))})))),c.a.createElement(q,{modalOpen:i,onSubmit:y,error:f,onClose:g}),c.a.createElement(v.a,{onClick:function(){return o(!0)}},"Add New Patient"))},U=a(77),V=function(){var e=Object(f.f)().id,t=Object(r.useState)(null),a=Object(d.a)(t,2),n=a[0],l=a[1],i=A(),o=Object(d.a)(i,2),u=o[0].patients,s=o[1],m=c.a.useState(),p=Object(d.a)(m,2),b=p[0],O=(p[1],c.a.useState()),v=Object(d.a)(O,2);v[0],v[1];Object(r.useEffect)((function(){var t=Object.values(u).find((function(t){return t.id===e}));t&&(t.ssn?l(t):E.a.get("".concat(j,"/patients/").concat(e)).then((function(e){s(function(e){return{type:"UPDATE_PATIENT",payload:e}}(e.data)),l(e.data)})))}),[u]);var g=c.a.useState(!1),y=Object(d.a)(g,2);y[0],y[1];if(n){console.log(n),console.log(n.entries);var C="";switch(n.gender){case"male":C="man";break;case"female":C="woman";break;default:C="transgender"}return c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{textAlign:"left"},c.a.createElement("h2",null,n.name,c.a.createElement(U.a,{className:C})),c.a.createElement("p",null,c.a.createElement("strong",null,"SSN: ")," ",n.ssn),c.a.createElement("p",null,c.a.createElement("strong",null,"Date of Birth:")," ",n.dateOfBirth),c.a.createElement("p",null,c.a.createElement("strong",null,"Occupation: ")," ",n.occupation),c.a.createElement("p",null,c.a.createElement("strong",null,"Entries: ")," ",n.entries),n.entries.map((function(e){return c.a.createElement("div",{key:e.id},c.a.createElement("p",null,e.type),c.a.createElement("p",null,e.date),c.a.createElement("p",null,e.specialist),c.a.createElement("p",null,e.diagnosisCodes),c.a.createElement("p",null,e.description),c.a.createElement("p",null))}))))}return c.a.createElement("div",null,b)},z=function(){var e=A(),t=Object(d.a)(e,2)[1];return c.a.useEffect((function(){E.a.get("".concat(j,"/ping")),function(){var e=Object(m.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(j,"/patients"));case 3:a=e.sent,n=a.data,t(T(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[t]),c.a.createElement("div",{className:"App"},c.a.createElement(b.a,null,c.a.createElement(h.a,null,c.a.createElement(O.a,{as:"h1"},"Patientor"),c.a.createElement(v.a,{as:b.b,to:"/",primary:!0},"Home"),c.a.createElement(g.a,{hidden:!0}),c.a.createElement(f.c,null,c.a.createElement(f.a,{path:"/patients/:id",render:function(){return c.a.createElement(V,null)}}),c.a.createElement(f.a,{path:"/",render:function(){return c.a.createElement(J,null)}})))))};o.a.render(c.a.createElement(N,{reducer:function(e,t){switch(t.type){case"SET_PATIENT_LIST":return Object(C.a)(Object(C.a)({},e),{},{patients:Object(C.a)(Object(C.a)({},t.payload.reduce((function(e,t){return Object(C.a)(Object(C.a)({},e),{},Object(y.a)({},t.id,t))}),{})),e.patients)});case"UPDATE_PATIENT":case"ADD_PATIENT":return Object(C.a)(Object(C.a)({},e),{},{patients:Object(C.a)(Object(C.a)({},e.patients),{},Object(y.a)({},t.payload.id,t.payload))});default:return e}}},c.a.createElement(z,null)),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.30e5838b.chunk.js.map