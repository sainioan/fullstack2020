(this.webpackJsonppatientor=this.webpackJsonppatientor||[]).push([[0],{264:function(e,a,t){e.exports=t(442)},442:function(e,a,t){"use strict";t.r(a);var n,l,r=t(0),c=t.n(r),i=t(60),o=t.n(i),u=(t(269),t(53)),s=t.n(u),m=t(85),d=t(27),p=t(50),E=t.n(p),b=t(73),f=t(17),h=t(450),v=t(460),O=t(457),g=t(451),j="http://localhost:3001/api",y=t(74),S=t(23),k={patients:{},diagnoses:new Array},T=Object(r.createContext)([k,function(){return k}]),w=function(e){var a=e.reducer,t=e.children,n=Object(r.useReducer)(a,k),l=Object(d.a)(n,2),i=l[0],o=l[1];return c.a.createElement(T.Provider,{value:[i,o]},t)},C=function(){return Object(r.useContext)(T)},N=t(456),A=t(453),x=t(459),D=t(458),H=t(28),I=t(452),P=(t(455),function(e){var a=e.name,t=e.label,n=e.options;return c.a.createElement(I.a.Field,null,c.a.createElement("label",null,t),c.a.createElement(H.b,{as:"select",name:a,className:"ui dropdown"},n.map((function(e){return c.a.createElement("option",{key:e.value,value:e.value},e.label||e.value)}))))}),R=function(e){var a=e.field,t=e.label,n=e.placeholder;return c.a.createElement(I.a.Field,null,c.a.createElement("label",null,t),c.a.createElement(H.b,Object.assign({placeholder:n},a)),c.a.createElement("div",{style:{color:"red"}},c.a.createElement(H.a,{name:a.name})))};!function(e){e[e.Healthy=0]="Healthy",e[e.LowRisk=1]="LowRisk",e[e.HighRisk=2]="HighRisk",e[e.CriticalRisk=3]="CriticalRisk"}(n||(n={})),function(e){e.Male="male",e.Female="female",e.Other="other"}(l||(l={}));var _=[{value:l.Male,label:"Male"},{value:l.Female,label:"Female"},{value:l.Other,label:"Other"}],B=function(e){var a=e.onSubmit,t=e.onCancel;return c.a.createElement(H.d,{initialValues:{name:"",ssn:"",dateOfBirth:"",occupation:"",gender:l.Other},onSubmit:a,validate:function(e){var a={};return e.name||(a.name="Field is required"),e.ssn||(a.ssn="Field is required"),e.dateOfBirth||(a.dateOfBirth="Field is required"),e.occupation||(a.occupation="Field is required"),a}},(function(e){var a=e.isValid,n=e.dirty;return c.a.createElement(H.c,{className:"form ui"},c.a.createElement(H.b,{label:"Name",placeholder:"Name",name:"name",component:R}),c.a.createElement(H.b,{label:"Social Security Number",placeholder:"SSN",name:"ssn",component:R}),c.a.createElement(H.b,{label:"Date Of Birth",placeholder:"YYYY-MM-DD",name:"dateOfBirth",component:R}),c.a.createElement(H.b,{label:"Occupation",placeholder:"Occupation",name:"occupation",component:R}),c.a.createElement(P,{label:"Gender",name:"gender",options:_}),c.a.createElement(D.a,null,c.a.createElement(D.a.Column,{floated:"left",width:5},c.a.createElement(O.a,{type:"button",onClick:t,color:"red"},"Cancel")),c.a.createElement(D.a.Column,{floated:"right",width:5},c.a.createElement(O.a,{type:"submit",floated:"right",color:"green",disabled:!n||!a},"Add"))))}))},F=function(e){var a=e.modalOpen,t=e.onClose,n=e.onSubmit,l=e.error;return c.a.createElement(A.a,{open:a,onClose:t,centered:!1,closeIcon:!0},c.a.createElement(A.a.Header,null,"Add a new patient"),c.a.createElement(A.a.Content,null,l&&c.a.createElement(x.a,{inverted:!0,color:"red"},"Error: ".concat(l)),c.a.createElement(B,{onSubmit:n,onCancel:t})))},M=t(462),q=["The patient is in great shape","The patient has a low risk of getting sick","The patient has a high risk of getting sick","The patient has a diagnosed condition"],G=function(e){var a=e.rating,t=e.showText;return c.a.createElement("div",{className:"health-bar"},c.a.createElement(M.a,{icon:"heart",disabled:!0,rating:4-a,maxRating:4}),t?c.a.createElement("p",null,q[a]):null)},L=function(){var e=C(),a=Object(d.a)(e,2),t=a[0].patients,n=a[1],l=c.a.useState(!1),r=Object(d.a)(l,2),i=r[0],o=r[1],u=c.a.useState(),p=Object(d.a)(u,2),f=p[0],v=p[1],g=function(){o(!1),v(void 0)},y=function(){var e=Object(m.a)(s.a.mark((function e(a){var t,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(j,"/patients"),a);case 3:t=e.sent,l=t.data,n({type:"ADD_PATIENT",payload:l}),g(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.response.data),v(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{textAlign:"center"},c.a.createElement("h3",null,"Patient list")),c.a.createElement(N.a,{celled:!0},c.a.createElement(N.a.Header,null,c.a.createElement(N.a.Row,null,c.a.createElement(N.a.HeaderCell,null,"Name"),c.a.createElement(N.a.HeaderCell,null,"Gender"),c.a.createElement(N.a.HeaderCell,null,"Occupation"),c.a.createElement(N.a.HeaderCell,null,"Health Rating"))),c.a.createElement(N.a.Body,null,Object.values(t).map((function(e){return c.a.createElement(N.a.Row,{key:e.id},c.a.createElement(N.a.Cell,null,c.a.createElement(b.b,{to:"/patients/".concat(e.id)}," ",e.name)),c.a.createElement(N.a.Cell,null,e.gender),c.a.createElement(N.a.Cell,null,e.occupation),c.a.createElement(N.a.Cell,null,c.a.createElement(G,{showText:!1,rating:1})))})))),c.a.createElement(F,{modalOpen:i,onSubmit:y,error:f,onClose:g}),c.a.createElement(O.a,{onClick:function(){return o(!0)}},"Add New Patient"))},Y=t(77),J=function(){var e=Object(f.f)().id,a=Object(r.useState)(null),t=Object(d.a)(a,2),n=t[0],l=t[1],i=C(),o=Object(d.a)(i,2),u=o[0],s=u.patients,m=u.diagnoses,p=o[1],b=c.a.useState(),v=Object(d.a)(b,2),O=v[0],g=(v[1],c.a.useState()),y=Object(d.a)(g,2);y[0],y[1];Object(r.useEffect)((function(){var a=Object.values(s).find((function(a){return a.id===e}));a&&(a.ssn?l(a):E.a.get("".concat(j,"/patients/").concat(e)).then((function(e){p(function(e){return{type:"UPDATE_PATIENT",payload:e}}(e.data)),l(e.data)})))}),[s]);var S=c.a.useState(!1),k=Object(d.a)(S,2);k[0],k[1];if(n){console.log(n),console.log(n.entries);var T="";switch(n.gender){case"male":T="man";break;case"female":T="woman";break;default:T="transgender"}return c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{textAlign:"left"},c.a.createElement("h2",null,n.name,c.a.createElement(Y.a,{className:T})),c.a.createElement("p",null,c.a.createElement("strong",null,"SSN: ")," ",n.ssn),c.a.createElement("p",null,c.a.createElement("strong",null,"Date of Birth:")," ",n.dateOfBirth),c.a.createElement("p",null,c.a.createElement("strong",null,"Occupation: ")," ",n.occupation),c.a.createElement("h3",null,"Entries: "),c.a.createElement("div",null,n.entries.map((function(e){var a;return c.a.createElement("div",{key:e.id},c.a.createElement("p",null,"date:",c.a.createElement("b",null)," ",e.date),c.a.createElement("p",null,c.a.createElement("b",null,"description:")," ",e.description),c.a.createElement("p",null,c.a.createElement("b",null,"diagnosis codes:")),c.a.createElement("div",null,null===(a=e.diagnosisCodes)||void 0===a?void 0:a.map((function(e){var a;return c.a.createElement("ul",{key:e},c.a.createElement("li",null,e,null===m||void 0===m||null===(a=m.find((function(a){return a.code===e})))||void 0===a?void 0:a.name))}))))})))))}return c.a.createElement("div",null,O)},U=function(){var e=C(),a=Object(d.a)(e,2)[1];return c.a.useEffect((function(){E.a.get("".concat(j,"/ping")),function(){var e=Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(j,"/patients"));case 3:t=e.sent,n=t.data,a({type:"SET_PATIENT_LIST",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),function(){var e=Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(j,"/diagnosis"));case 3:t=e.sent,n=t.data,a({type:"SET_DIAGNOSES",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[a]),c.a.createElement("div",{className:"App"},c.a.createElement(b.a,null,c.a.createElement(h.a,null,c.a.createElement(v.a,{as:"h1"},"Patientor"),c.a.createElement(O.a,{as:b.b,to:"/",primary:!0},"Home"),c.a.createElement(g.a,{hidden:!0}),c.a.createElement(f.c,null,c.a.createElement(f.a,{path:"/patients/:id",render:function(){return c.a.createElement(J,null)}}),c.a.createElement(f.a,{path:"/",render:function(){return c.a.createElement(L,null)}})))))};o.a.render(c.a.createElement(w,{reducer:function(e,a){switch(a.type){case"SET_PATIENT_LIST":return Object(S.a)(Object(S.a)({},e),{},{patients:Object(S.a)(Object(S.a)({},a.payload.reduce((function(e,a){return Object(S.a)(Object(S.a)({},e),{},Object(y.a)({},a.id,a))}),{})),e.patients)});case"ADD_PATIENT":case"UPDATE_PATIENT":return Object(S.a)(Object(S.a)({},e),{},{patients:Object(S.a)(Object(S.a)({},e.patients),{},Object(y.a)({},a.payload.id,a.payload))});case"SET_DIAGNOSES":return Object(S.a)(Object(S.a)({},e),{},{diagnoses:a.payload});default:return e}}},c.a.createElement(U,null)),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.682be5e7.chunk.js.map